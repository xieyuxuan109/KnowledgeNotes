package main

import "fmt"

// æ¼”ç¤ºç®¡é“çš„ä½¿ç”¨
func main() {
	//channelæœ¬è´¨å°±æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„-é˜Ÿåˆ—
	//æ•°æ®æ˜¯å…ˆè¿›å…ˆå‡º
	//çº¿ç¨‹å®‰å…¨ï¼Œå¤šgoroutineè®¿é—®æ—¶ä¸éœ€è¦åŠ é”
	//channelæ˜¯æœ‰ç±»å‹çš„ï¼Œä¸€ä¸ªstringç±»å‹channelåªèƒ½å­˜æ”¾stringç±»å‹æ•°æ®
	//ç®¡é“é‡Œé¢çš„æ•°æ®å¯ä»¥åªå–ä¸æ¥æ”¶
	var intChan chan int //å®šä¹‰æ–¹å¼æ¯”è¾ƒç‰¹æ®Š var åå­— chan å­˜æ”¾ç±»å‹
	//æ³¨æ„ç®¡é“ä¸ºå¼•ç”¨ç±»å‹ï¼Œä½¿ç”¨å‰å¿…é¡»make
	intChan = make(chan int, 10) //ç®¡é“ç±»å‹ä¸èƒ½è‡ªåŠ¨å¢åŠ å®¹é‡,å½“è¶…å‡ºå®¹é‡æ—¶å€™ä¼šæŠ¥é”™ï¼Œæ­»é”
	intChan <- 10
	num := 2121
	intChan <- num
	fmt.Println(len(intChan), cap(intChan)) //2 10

	//å–å‡ºæ•°æ®ç¬¦åˆå…ˆè¿›å…ˆå‡ºï¼Œä½†å®¹é‡ä¸å˜
	num1 := <-intChan
	fmt.Println(num1)
	close(intChan)
	//åœ¨æ²¡æœ‰ä½¿ç”¨åç¨‹çš„æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬ç®¡é“æ•°æ®å·²ç»å…¨éƒ¨å–å‡ºï¼Œå†å–ä¹Ÿä¼šæŠ¥é”™ï¼Œæ­»é”

	//ä½¿ç”¨ç©ºæ¥å£ç®¡é“å¯èƒ½ä¼šç”¨åˆ°ç±»å‹æ–­è¨€
	//ç±»å‹æ–­è¨€æ˜¯Goè¯­è¨€ä¸­ç”¨äºåœ¨æ¥å£ç±»å‹å’Œå…·ä½“ç±»å‹ä¹‹é—´è¿›è¡Œè½¬æ¢çš„æ“ä½œã€‚å®ƒçš„æ ¸å¿ƒä½œç”¨æ˜¯æ£€æŸ¥æ¥å£å€¼åº•å±‚æŒæœ‰çš„å…·ä½“ç±»å‹ï¼Œå¹¶åœ¨å®‰å…¨çš„æƒ…å†µä¸‹å°†å…¶è½¬æ¢ä¸ºè¯¥ç±»å‹ã€‚
	// ğŸ“Œ åŸºæœ¬è¯­æ³•
	//ä¸¤ç§è¯­æ³•å½¢å¼
	// value, ok := interfaceValue.(Type)  å®‰å…¨å‹ï¼Œæ¨èä½¿ç”¨
	// value := interfaceValue.(Type)      ç›´æ¥å‹ï¼Œå¤±è´¥ä¼španic

	//channelçš„å…³é—­
	//ä½¿ç”¨å†…ç½®å‡½æ•°closeå¯ä»¥å…³é—­channel,å…³é—­åå°±ä¸èƒ½åœ¨å‘channelä¸­å†™æ•°æ®äº†ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥è¯»æ•°æ®
	//channelçš„éå†
	//æ”¯æŒfor-rangeå…³é—­ ä½†æ˜¯æ³¨æ„å¦‚æœchannelå¦‚æœæ²¡æœ‰å…³é—­ï¼Œä¼šå‡ºç°deadlock forå¯ä»¥ä¸å…³é—­

	//channelå¯ä»¥å£°æ˜åªè¯»åªå†™çš„å±æ€§
	//var cham1 <-chan int = make(chan int, 10) //ç®­å¤´åªä»£è¡¨å±æ€§ï¼Œä¸ä»£è¡¨ç±»å‹

	//å½“ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™closeé€šé“çš„æ—¶å€™ï¼Œå¯ä»¥ç”¨select-caseã€recoverè§£å†³
}
